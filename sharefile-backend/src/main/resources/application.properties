# ShareFile Backend - Quarkus Configuration
# src/main/resources/application.properties

# Application Info
quarkus.application.name=ShareFile Backend
quarkus.application.version=1.0.0

# HTTP Configuration
quarkus.http.port=8081
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:4200,http://localhost:3000
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with

# Database Configuration (PostgreSQL)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USER:sharefile-db-user}
quarkus.datasource.password=${DB_PASSWORD:sharefile-db-password}
quarkus.datasource.jdbc.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5431}/${DB_NAME:sharefile}

# Hibernate/JPA Configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# Keycloak OIDC Configuration
quarkus.oidc.auth-server-url=${KEYCLOAK_URL:http://localhost:8080}/realms/${KEYCLOAK_REALM:sharefile}
quarkus.oidc.client-id=${KEYCLOAK_CLIENT_ID:sharefile-backend}
quarkus.oidc.credentials.secret=${KEYCLOAK_CLIENT_SECRET:hkLdrNRfnmHhtx6VTaSueEIycRnUouM8}
quarkus.oidc.tls.verification=none

# Security Configuration
quarkus.http.auth.basic=false
quarkus.security.jaxrs.deny-unannotated-endpoints=false

# MinIO Configuration
minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
minio.access-key=${MINIO_ACCESS_KEY:admin}
minio.secret-key=${MINIO_SECRET_KEY:password123}
minio.bucket-name=${MINIO_BUCKET_NAME:sharefile-files}

# File Upload Configuration
quarkus.http.limits.max-body-size=1G
quarkus.http.body.uploads-directory=${java.io.tmpdir}/uploads

# Application Configuration
app.max-file-size-bytes=${MAX_FILE_SIZE_BYTES:1073741824}
app.max-files-per-upload=${MAX_FILES_PER_UPLOAD:10}
app.default-link-expiry-days=${DEFAULT_LINK_EXPIRY_DAYS:7}

# Health Checks
quarkus.smallrye-health.root-path=/health

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.company.sharefile".level=DEBUG

# Development Configuration
%dev.quarkus.log.console.enable=true
%dev.quarkus.log.level=DEBUG
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.datasource.username=sharefile-db-user
%dev.quarkus.datasource.password=sharefile-db-password
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5431/sharefile